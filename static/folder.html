<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>さかっち</title>
    <link rel="stylesheet" href="./css/styleget.css">
  </head>
  <body>
    <h1 style="background: #6d9;">カードリスト</h1>

    <!-- カードリストを表示するエリア -->
    <div id="card-list"></div>

    <div id="notification"></div>

    <!-- ボタンは必要に応じて追加 -->
    <!-- <button id="reset-data">初めからやり直す</button> -->
    <!-- <button id="gacha">AIゴミ認定後の処理</button> -->

    <script type="module">
      // 初期カードデータ（カード情報）
      const initialCards = [
        { id: 1, name: 'カード 1', description: 'これはカード1の説明です。', unlocked: false, rarity: 1, imageUrl: 'images/card1.jpg' },
        { id: 2, name: 'カード 2', description: 'これはカード2の説明です。', unlocked: false, rarity: 2, imageUrl: 'images/card2.jpg' },
        { id: 3, name: 'カード 3', description: 'これはカード3の説明です。', unlocked: false, rarity: 3, imageUrl: 'images/card3.jpg' },
        { id: 4, name: 'カード 4', description: 'これはカード4の説明です。', unlocked: false, rarity: 4, imageUrl: 'images/card4.jpg' },
        { id: 5, name: 'カード 5', description: 'これはカード5の説明です。', unlocked: false, rarity: 5, imageUrl: 'images/card5.jpg' },
        { id: 6, name: 'カード 6', description: 'これはカード6の説明です。', unlocked: false, rarity: 1, imageUrl: 'images/card6.jpg' },
        { id: 7, name: 'カード 7', description: 'これはカード7の説明です。', unlocked: false, rarity: 2, imageUrl: 'images/card7.jpg' },
        { id: 8, name: 'カード 8', description: 'これはカード8の説明です。', unlocked: false, rarity: 3, imageUrl: 'images/card8.jpg' },
        { id: 9, name: 'カード 9', description: 'これはカード9の説明です。', unlocked: false, rarity: 4, imageUrl: 'images/card9.jpg' },
        { id: 10, name: 'カード 10', description: 'これはカード10の説明です。', unlocked: false, rarity: 1, imageUrl: 'images/card10.jpg' },
        { id: 11, name: 'カード 11', description: 'これはカード11の説明です。', unlocked: false, rarity: 2, imageUrl: 'images/card11.jpg' },
        { id: 12, name: 'カード 12', description: 'これはカード12の説明です。', unlocked: false, rarity: 3, imageUrl: 'images/card12.jpg' },
        { id: 13, name: 'カード 13', description: 'これはカード13の説明です。', unlocked: false, rarity: 4, imageUrl: 'images/card13.jpg' },
        { id: 14, name: 'カード 14', description: 'これはカード14の説明です。', unlocked: false, rarity: 5, imageUrl: 'images/card14.jpg' },
        { id: 15, name: 'カード 15', description: 'これはカード15の説明です。', unlocked: false, rarity: 1, imageUrl: 'images/card15.jpg' },
        { id: 16, name: 'カード 16', description: 'これはカード16の説明です。', unlocked: false, rarity: 2, imageUrl: 'images/card16.jpg' },
        { id: 17, name: 'カード 17', description: 'これはカード17の説明です。', unlocked: false, rarity: 3, imageUrl: 'images/card17.jpg' },
        { id: 18, name: 'カード 18', description: 'これはカード18の説明です。', unlocked: false, rarity: 4, imageUrl: 'images/card18.jpg' },
        { id: 19, name: 'カード 19', description: 'これはカード19の説明です。', unlocked: false, rarity: 5, imageUrl: 'images/card19.jpg' },
        { id: 20, name: 'カード 20', description: 'これはカード20の説明です。', unlocked: false, rarity: 1, imageUrl: 'images/card20.jpg' },
        { id: 21, name: 'カード 21', description: 'これはカード21の説明です。', unlocked: false, rarity: 2, imageUrl: 'images/card21.jpg' },
        { id: 22, name: 'カード 22', description: 'これはカード22の説明です。', unlocked: false, rarity: 3, imageUrl: 'images/card22.jpg' },
        { id: 23, name: 'カード 23', description: 'これはカード23の説明です。', unlocked: false, rarity: 4, imageUrl: 'images/card23.jpg' },
        { id: 24, name: 'カード 24', description: 'これはカード24の説明です。', unlocked: false, rarity: 5, imageUrl: 'images/card24.jpg' },
        { id: 25, name: 'カード 25', description: 'これはカード25の説明です。', unlocked: false, rarity: 1, imageUrl: 'images/card25.jpg' },
        { id: 26, name: 'カード 26', description: 'これはカード26の説明です。', unlocked: false, rarity: 2, imageUrl: 'images/card26.jpg' },
        { id: 27, name: 'カード 27', description: 'これはカード27の説明です。', unlocked: false, rarity: 3, imageUrl: 'images/card27.jpg' },
        { id: 28, name: 'カード 28', description: 'これはカード28の説明です。', unlocked: false, rarity: 4, imageUrl: 'images/card28.jpg' },
        { id: 29, name: 'カード 29', description: 'これはカード29の説明です。', unlocked: false, rarity: 5, imageUrl: 'images/card29.jpg' },
        { id: 30, name: 'カード 30', description: 'これはカード30の説明です。', unlocked: false, rarity: 1, imageUrl: 'images/card30.jpg' }
      ];

      // ローカルストレージからカードデータをロード
      function loadCards() {
        try {
          const savedCards = localStorage.getItem('cards');
          if (savedCards) {
            return JSON.parse(savedCards);
          }
        } catch (e) {
          console.error('カードデータの読み込みに失敗しました:', e);
        }
        localStorage.setItem('cards', JSON.stringify(initialCards));
        return initialCards;
      }

      // すべてのカードを表示する関数（アンロックされたカードも含む）
      function renderCards() {
        const cardList = document.getElementById('card-list');
        cardList.innerHTML = ''; // まずは表示をリセット
        const currentCards = loadCards(); // ローカルストレージから最新のカードデータを取得

        // 現在のカードリストを表示
        currentCards.forEach(card => {
          const cardElement = createCardElement(card);
          cardList.appendChild(cardElement);
        });
      }

      // カードのHTML要素を生成する
      function createCardElement(card) {
        const cardElement = document.createElement('div');
        cardElement.className = `card ${card.unlocked ? 'unlocked' : 'locked'}`;
        cardElement.innerHTML = `
          <img src="${card.imageUrl}" alt="${card.name}">
          <h2>${card.name}</h2>
          <p>${card.description}</p>
          <p>レア度: ${card.rarity}</p>
        `;
        return cardElement;
      }

      // ページ読み込み後の初期設定
      document.addEventListener('DOMContentLoaded', () => {
        renderCards(); // 初期状態でカードを表示
      });
    </script>
  </body>
</html>
